{
  "openapi":"3.0.1",
  "info":{
    "title":"OpenAPI definition",
    "version":"v0"
  },
  "servers":[
    {
      "url":"http://localhost:8080",
      "description":"Generated server url"
    }
  ],
  "paths":{
    "/springwolf/kafka/publish":{
      "post":{
        "tags":[
          "springwolf-kafka-controller"
        ],
        "operationId":"publish",
        "parameters":[
          {
            "name":"topic",
            "in":"query",
            "required":true,
            "schema":{
              "type":"string"
            }
          }
        ],
        "requestBody":{
          "content":{
            "application/json":{
              "schema":{
                "type":"object",
                "additionalProperties":{
                  "type":"object"
                }
              }
            }
          },
          "required":true
        },
        "responses":{
          "200":{
            "description":"OK"
          }
        }
      }
    },
    "/mock/initcustomer":{
      "post":{
        "tags":[
          "mock-controller"
        ],
        "operationId":"intiDummyData",
        "requestBody":{
          "content":{
            "application/json":{
              "schema":{
                "$ref":"#/components/schemas/Customer"
              }
            }
          },
          "required":true
        },
        "responses":{
          "200":{
            "description":"OK",
            "content":{
              "*/*":{
                "schema":{
                  "$ref":"#/components/schemas/Customer"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/customers/{customerId}/paymentmethods":{
      "post":{
        "tags":[
          "payment-method-controller"
        ],
        "operationId":"addPaymentMethod",
        "parameters":[
          {
            "name":"customerId",
            "in":"path",
            "required":true,
            "schema":{
              "type":"string",
              "format":"uuid"
            }
          }
        ],
        "requestBody":{
          "content":{
            "application/json":{
              "schema":{
                "$ref":"#/components/schemas/PaymentMethodInputDTO"
              }
            }
          },
          "required":true
        },
        "responses":{
          "200":{
            "description":"OK",
            "content":{
              "*/*":{
                "schema":{
                  "$ref":"#/components/schemas/PaymentMethodOutputDTO"
                }
              }
            }
          }
        }
      }
    },
    "/springwolf/docs":{
      "get":{
        "tags":[
          "async-api-controller"
        ],
        "operationId":"asyncApi",
        "responses":{
          "200":{
            "description":"OK",
            "content":{
              "application/json":{
                "schema":{
                  "type":"string"
                }
              }
            }
          }
        }
      }
    }
  },
  "components":{
    "schemas":{
      "Address":{
        "required":[
          "city",
          "line1",
          "line2"
        ],
        "type":"object",
        "properties":{
          "line1":{
            "type":"string"
          },
          "line2":{
            "type":"string"
          },
          "city":{
            "type":"string"
          },
          "postalCode":{
            "type":"string"
          },
          "country":{
            "type":"string"
          },
          "state":{
            "type":"string"
          }
        }
      },
      "AppConfig":{
        "type":"object",
        "properties":{
          "provider":{
            "type":"string",
            "enum":[
              "STRIPE"
            ]
          },
          "providerConfig":{
            "type":"object"
          },
          "paymentMethodTypes":{
            "type":"array",
            "items":{
              "type":"string",
              "enum":[
                "CARD",
                "WALLET"
              ]
            }
          }
        }
      },
      "Application":{
        "type":"object",
        "properties":{
          "id":{
            "type":"string",
            "format":"uuid"
          },
          "name":{
            "type":"string"
          },
          "organization":{
            "$ref":"#/components/schemas/Organization"
          },
          "appConfig":{
            "$ref":"#/components/schemas/AppConfig"
          }
        }
      },
      "BillingDetails":{
        "required":[
          "personName",
          "phone"
        ],
        "type":"object",
        "properties":{
          "personName":{
            "$ref":"#/components/schemas/PersonName"
          },
          "address":{
            "$ref":"#/components/schemas/Address"
          },
          "email":{
            "type":"string"
          },
          "phone":{
            "type":"string"
          }
        }
      },
      "CardDetails":{
        "required":[
          "cvcCheckStatus",
          "expiryMonth",
          "expiryYear",
          "maskedCardNumber",
          "nameOnCard"
        ],
        "type":"object",
        "properties":{
          "maskedCardNumber":{
            "type":"string"
          },
          "expiryMonth":{
            "type":"string"
          },
          "expiryYear":{
            "type":"string"
          },
          "nameOnCard":{
            "type":"string"
          },
          "cvcCheckStatus":{
            "type":"string",
            "enum":[
              "PASS",
              "FAILED",
              "UNCHECKED"
            ]
          },
          "funding":{
            "type":"string",
            "enum":[
              "CREDIT",
              "DEBIT"
            ]
          }
        }
      },
      "Customer":{
        "type":"object",
        "properties":{
          "id":{
            "type":"string",
            "format":"uuid"
          },
          "name":{
            "$ref":"#/components/schemas/PersonName"
          },
          "email":{
            "type":"string"
          },
          "phone":{
            "type":"string"
          },
          "organization":{
            "$ref":"#/components/schemas/Organization"
          },
          "applicationId":{
            "type":"string",
            "format":"uuid"
          },
          "application":{
            "$ref":"#/components/schemas/Application"
          },
          "applicationCustomerId":{
            "type":"string"
          },
          "providerCustomerId":{
            "type":"string"
          },
          "providerMetadata":{
            "type":"object"
          },
          "paymentMethods":{
            "type":"array",
            "items":{
              "$ref":"#/components/schemas/PaymentMethod"
            }
          },
          "createdAt":{
            "type":"string",
            "format":"date-time"
          }
        }
      },
      "Organization":{
        "type":"object",
        "properties":{
          "id":{
            "type":"string",
            "format":"uuid"
          },
          "name":{
            "type":"string"
          }
        }
      },
      "PaymentMethod":{
        "type":"object",
        "properties":{
          "id":{
            "type":"string",
            "format":"uuid"
          },
          "customer":{
            "$ref":"#/components/schemas/Customer"
          },
          "application":{
            "$ref":"#/components/schemas/Application"
          },
          "type":{
            "type":"string",
            "enum":[
              "CARD",
              "WALLET"
            ]
          },
          "billingDetails":{
            "$ref":"#/components/schemas/BillingDetails"
          },
          "card":{
            "$ref":"#/components/schemas/CardDetails"
          },
          "wallet":{
            "$ref":"#/components/schemas/WalletDetails"
          },
          "createdAt":{
            "type":"string",
            "format":"date-time"
          },
          "providerPaymentMethodId":{
            "type":"string"
          },
          "providerMetadata":{
            "type":"object"
          },
          "default":{
            "type":"boolean"
          }
        }
      },
      "PersonName":{
        "required":[
          "firstName",
          "lastName"
        ],
        "type":"object",
        "properties":{
          "firstName":{
            "type":"string"
          },
          "middleName":{
            "type":"string"
          },
          "lastName":{
            "type":"string"
          },
          "salutation":{
            "type":"string"
          }
        }
      },
      "WalletDetails":{
        "type":"object",
        "properties":{
          "maskedDeviceAccountNumber":{
            "type":"string"
          },
          "type":{
            "type":"string",
            "enum":[
              "APPLE_PAY",
              "GOOGLE_PAY"
            ]
          }
        }
      },
      "AddressDTO":{
        "type":"object",
        "properties":{
          "city":{
            "type":"string"
          },
          "country":{
            "type":"string"
          },
          "line1":{
            "type":"string"
          },
          "line2":{
            "type":"string"
          },
          "postalCode":{
            "type":"string"
          },
          "state":{
            "type":"string"
          }
        }
      },
      "BillingDetailsDTO":{
        "type":"object",
        "properties":{
          "address":{
            "$ref":"#/components/schemas/AddressDTO"
          },
          "email":{
            "type":"string"
          },
          "name":{
            "$ref":"#/components/schemas/PersonNameDTO"
          },
          "phone":{
            "type":"string"
          }
        }
      },
      "CardDetailsInputDTO":{
        "type":"object",
        "properties":{
          "expiryYear":{
            "type":"string"
          },
          "expiryMonth":{
            "type":"string"
          },
          "nameOnCard":{
            "type":"string"
          },
          "cvcCheckStatus":{
            "type":"string"
          },
          "funding":{
            "type":"string"
          },
          "number":{
            "type":"string"
          },
          "cvc":{
            "type":"string"
          }
        }
      },
      "PaymentMethodInputDTO":{
        "required":[
          "billingDetails",
          "type"
        ],
        "type":"object",
        "properties":{
          "type":{
            "type":"string",
            "enum":[
              "CARD",
              "WALLET"
            ]
          },
          "billingDetails":{
            "$ref":"#/components/schemas/BillingDetailsDTO"
          },
          "card":{
            "$ref":"#/components/schemas/CardDetailsInputDTO"
          },
          "wallet":{
            "$ref":"#/components/schemas/WalletDetailsInputDTO"
          },
          "default":{
            "type":"boolean"
          }
        }
      },
      "PersonNameDTO":{
        "type":"object",
        "properties":{
          "firstName":{
            "type":"string"
          },
          "middleName":{
            "type":"string"
          },
          "lastName":{
            "type":"string"
          },
          "fullName":{
            "type":"string"
          }
        }
      },
      "WalletDetailsInputDTO":{
        "type":"object"
      },
      "CardDetailsOutputDTO":{
        "type":"object",
        "properties":{
          "expiryYear":{
            "type":"string"
          },
          "expiryMonth":{
            "type":"string"
          },
          "nameOnCard":{
            "type":"string"
          },
          "cvcCheckStatus":{
            "type":"string"
          },
          "funding":{
            "type":"string"
          },
          "maskedCardNumber":{
            "type":"string"
          }
        }
      },
      "PaymentMethodOutputDTO":{
        "required":[
          "billingDetails",
          "type"
        ],
        "type":"object",
        "properties":{
          "type":{
            "type":"string",
            "enum":[
              "CARD",
              "WALLET"
            ]
          },
          "billingDetails":{
            "$ref":"#/components/schemas/BillingDetailsDTO"
          },
          "card":{
            "$ref":"#/components/schemas/CardDetailsOutputDTO"
          },
          "wallet":{
            "$ref":"#/components/schemas/WalletDetailsOutputDTO"
          },
          "default":{
            "type":"boolean"
          }
        }
      },
      "WalletDetailsOutputDTO":{
        "type":"object"
      }
    }
  }
}