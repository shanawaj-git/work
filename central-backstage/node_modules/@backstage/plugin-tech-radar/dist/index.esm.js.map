{"version":3,"file":"index.esm.js","sources":["../src/api.ts","../src/components/RadarGrid/RadarGrid.tsx","../src/utils/components.tsx","../src/components/RadarDescription/RadarDescription.tsx","../src/components/RadarEntry/RadarEntry.tsx","../src/components/RadarBubble/RadarBubble.tsx","../src/components/RadarFooter/RadarFooter.tsx","../src/components/RadarLegend/RadarLegend.tsx","../src/components/RadarPlot/RadarPlot.tsx","../src/utils/segment.js","../src/components/Radar/utils.ts","../src/components/Radar/Radar.tsx","../src/components/RadarComponent.tsx","../src/components/RadarPage.tsx","../src/sample.ts","../src/plugin.ts","../src/index.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ApiRef, createApiRef } from '@backstage/core-plugin-api';\n\n/**\n * {@link @backstage/core-plugin-api#ApiRef} for the {@link TechRadarApi}\n */\nexport const techRadarApiRef: ApiRef<TechRadarApi> = createApiRef<TechRadarApi>(\n  {\n    id: 'plugin.techradar.service',\n  },\n);\n\n/**\n * Tech Radar API responsible for loading data for the plugin\n *\n * @remarks\n *\n * This should be implemented by user, as {@link https://github.com/backstage/backstage/blob/master/plugins/tech-radar/src/sample.ts | default}\n * serves only some static data for example purposes\n */\nexport interface TechRadarApi {\n  /**\n   * Loads the TechRadar response data to pass through to the TechRadar component.\n   * Takes the id prop of the TechRadarComponent or TechRadarPage to distinguish between multiple radars if needed\n   */\n  load: (id: string | undefined) => Promise<TechRadarLoaderResponse>;\n}\n\n/*\n * Types related to the Radar's visualization.\n */\n\n/**\n * Tech Radar Ring which indicates stage of {@link RadarEntry}\n */\nexport interface RadarRing {\n  /**\n   * ID of the Ring\n   */\n  id: string;\n  /**\n   * Display name of the Ring\n   */\n  name: string;\n  /**\n   * Color used for entries in particular Ring\n   *\n   * @remarks\n   *\n   * Supports any value parseable by {@link https://www.npmjs.com/package/color-string | color-string}\n   */\n  color: string;\n}\n\n/**\n * Tech Radar Quadrant which represent area/topic of {@link RadarEntry}\n */\nexport interface RadarQuadrant {\n  /**\n   * ID of the Quadrant\n   */\n  id: string;\n  /**\n   * Display name of the Quadrant\n   */\n  name: string;\n}\n\n/**\n * Single Entry in Tech Radar\n */\nexport interface RadarEntry {\n  /**\n   * React key to use for this Entry\n   */\n  key: string;\n  /**\n   * ID of this Radar Entry\n   */\n  id: string;\n  /**\n   * ID of {@link RadarQuadrant} this Entry belongs to\n   */\n  quadrant: string;\n  /**\n   * Display name of the Entry\n   */\n  title: string;\n  /**\n   * User-clickable URL when rendered in Radar\n   *\n   * @remarks\n   *\n   * You can use `#` if you don't want to provide any other url\n   */\n  url: string;\n  /**\n   * History of the Entry moving through {@link RadarRing}\n   */\n  timeline: Array<RadarEntrySnapshot>;\n  /**\n   * Description of the Entry\n   */\n  description?: string;\n}\n\n/**\n * State of {@link RadarEntry} at given point in time\n */\nexport interface RadarEntrySnapshot {\n  /**\n   * Point in time when change happened\n   */\n  date: Date;\n  /**\n   * ID of {@link RadarRing}\n   */\n  ringId: string;\n  /**\n   * Description of change\n   */\n  description?: string;\n  /**\n   * Indicates trend compared to previous snapshot\n   */\n  moved?: MovedState;\n}\n\n/**\n * Indicates how {@link RadarEntry} moved though {@link RadarRing} on {@link RadarEntry.timeline}\n */\nexport enum MovedState {\n  /**\n   * Moved down\n   */\n  Down = -1,\n  /**\n   * Didn't move\n   */\n  NoChange = 0,\n  /**\n   * Move up\n   */\n  Up = 1,\n}\n\n/*\n * Types related to data collection for the Radar.\n */\n\n/**\n * Response from {@link TechRadarApi}\n */\nexport interface TechRadarLoaderResponse {\n  /**\n   * Quadrant of Tech Radar. Should be 4\n   */\n  quadrants: RadarQuadrant[];\n  /**\n   * Rings of Tech Radar\n   */\n  rings: RadarRing[];\n  /**\n   * Entries visualised in Tech Radar\n   */\n  entries: RadarEntry[];\n}\n\n/*\n * Set up the Radar as a Backstage component.\n */\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { makeStyles, Theme } from '@material-ui/core';\nimport type { Ring } from '../../utils/types';\n\nexport type Props = {\n  radius: number;\n  rings: Ring[];\n};\n\nconst useStyles = makeStyles<Theme>(theme => ({\n  ring: {\n    fill: 'none',\n    stroke: '#bbb',\n    strokeWidth: '1px',\n  },\n  axis: {\n    fill: 'none',\n    stroke: '#bbb',\n    strokeWidth: '1px',\n  },\n  text: {\n    pointerEvents: 'none',\n    userSelect: 'none',\n    fill: theme.palette.text.primary,\n    fontSize: '25px',\n    fontWeight: 800,\n  },\n}));\n\n// A component for the background grid of the radar, with axes, rings etc.  It will render around the origin, i.e.\n// assume that (0, 0) is in the middle of the drawing.\nconst RadarGrid = (props: Props) => {\n  const { radius, rings } = props;\n  const classes = useStyles(props);\n\n  const makeRingNode = (ringIndex: number, ringRadius?: number) => [\n    <circle\n      key={`c${ringIndex}`}\n      cx={0}\n      cy={0}\n      r={ringRadius}\n      className={classes.ring}\n    />,\n    <text\n      key={`t${ringIndex}`}\n      y={ringRadius !== undefined ? -ringRadius + 42 : undefined}\n      textAnchor=\"middle\"\n      className={classes.text}\n    >\n      {rings[ringIndex].name}\n    </text>,\n  ];\n\n  const axisNodes = [\n    // X axis\n    <line\n      key=\"x\"\n      x1={0}\n      y1={-radius}\n      x2={0}\n      y2={radius}\n      className={classes.axis}\n      data-testid=\"radar-grid-x-line\"\n    />,\n    // Y axis\n    <line\n      key=\"y\"\n      x1={-radius}\n      y1={0}\n      x2={radius}\n      y2={0}\n      className={classes.axis}\n      data-testid=\"radar-grid-y-line\"\n    />,\n  ];\n\n  const ringNodes = rings\n    .map(r => r.outerRadius)\n    .map((ringRadius, ringIndex) => makeRingNode(ringIndex, ringRadius));\n\n  return <>{axisNodes.concat(...ringNodes)}</>;\n};\n\nexport default RadarGrid;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Link } from '@backstage/core-components';\nimport React from 'react';\n\ntype WithLinkProps = {\n  url?: string;\n  className: string;\n  children: React.ReactNode;\n};\n\nexport function isValidUrl(url: string | undefined): url is string {\n  return Boolean(url && url !== '#' && url.length > 0);\n}\n\nexport const WithLink = ({\n  url,\n  className,\n  children,\n}: WithLinkProps): JSX.Element =>\n  isValidUrl(url) ? (\n    <Link className={className} to={url}>\n      {children}\n    </Link>\n  ) : (\n    <>{children}</>\n  );\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button, DialogActions, DialogContent } from '@material-ui/core';\nimport LinkIcon from '@material-ui/icons/Link';\nimport { Link, MarkdownContent } from '@backstage/core-components';\nimport { isValidUrl } from '../../utils/components';\n\nexport type Props = {\n  open: boolean;\n  onClose: () => void;\n  title: string;\n  description: string;\n  url?: string;\n};\n\nconst RadarDescription = (props: Props): JSX.Element => {\n  const { open, onClose, title, description, url } = props;\n\n  return (\n    <Dialog data-testid=\"radar-description\" open={open} onClose={onClose}>\n      <DialogTitle data-testid=\"radar-description-dialog-title\">\n        {title}\n      </DialogTitle>\n      <DialogContent dividers>\n        <MarkdownContent content={description} />\n      </DialogContent>\n      {isValidUrl(url) && (\n        <DialogActions>\n          <Button\n            component={Link}\n            to={url}\n            onClick={onClose}\n            color=\"primary\"\n            startIcon={<LinkIcon />}\n          >\n            LEARN MORE\n          </Button>\n        </DialogActions>\n      )}\n    </Dialog>\n  );\n};\n\nexport { RadarDescription };\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { makeStyles, Theme } from '@material-ui/core';\nimport { WithLink } from '../../utils/components';\nimport { RadarDescription } from '../RadarDescription';\n\nexport type Props = {\n  x: number;\n  y: number;\n  value: number;\n  color: string;\n  url?: string;\n  moved?: number;\n  description?: string;\n  title?: string;\n  onMouseEnter?: (event: React.MouseEvent<SVGGElement, MouseEvent>) => void;\n  onMouseLeave?: (event: React.MouseEvent<SVGGElement, MouseEvent>) => void;\n  onClick?: (event: React.MouseEvent<SVGGElement, MouseEvent>) => void;\n};\n\nconst useStyles = makeStyles<Theme>(() => ({\n  text: {\n    pointerEvents: 'none',\n    userSelect: 'none',\n    fontSize: '9px',\n    fill: '#fff',\n    textAnchor: 'middle',\n  },\n\n  link: {\n    cursor: 'pointer',\n  },\n}));\n\nconst makeBlip = (color: string, moved?: number) => {\n  const style = { fill: color };\n\n  let blip = <circle r={9} style={style} />;\n  if (moved && moved > 0) {\n    blip = <path d=\"M -11,5 11,5 0,-13 z\" style={style} />; // triangle pointing up\n  } else if (moved && moved < 0) {\n    blip = <path d=\"M -11,-5 11,-5 0,13 z\" style={style} />; // triangle pointing down\n  }\n\n  return blip;\n};\n\nconst RadarEntry = (props: Props): JSX.Element => {\n  const classes = useStyles(props);\n  const [open, setOpen] = React.useState(false);\n\n  const {\n    moved,\n    description,\n    title,\n    color,\n    url,\n    value,\n    x,\n    y,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n  } = props;\n\n  const blip = makeBlip(color, moved);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const toggle = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <g\n      transform={`translate(${x}, ${y})`}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n      onClick={onClick}\n      data-testid=\"radar-entry\"\n    >\n      {' '}\n      {open && (\n        <RadarDescription\n          open={open}\n          onClose={handleClose}\n          title={title ? title : 'no title'}\n          description={description ? description : 'no description'}\n          url={url}\n        />\n      )}\n      {description ? (\n        // eslint-disable-next-line jsx-a11y/anchor-is-valid\n        <a\n          className={classes.link}\n          onClick={handleClickOpen}\n          role=\"button\"\n          href=\"#\"\n          tabIndex={0}\n          onKeyPress={toggle}\n        >\n          {blip}\n        </a>\n      ) : (\n        <WithLink url={url} className={classes.link}>\n          {blip}\n        </WithLink>\n      )}\n      <text y={3} className={classes.text}>\n        {value}\n      </text>\n    </g>\n  );\n};\n\nexport default RadarEntry;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useRef, useLayoutEffect } from 'react';\nimport { makeStyles, Theme } from '@material-ui/core';\n\nexport type Props = {\n  visible: boolean;\n  text: string;\n  x: number;\n  y: number;\n};\n\nconst useStyles = makeStyles<Theme>(() => ({\n  bubble: {\n    pointerEvents: 'none',\n    userSelect: 'none',\n    opacity: 0,\n  },\n  visibleBubble: {\n    pointerEvents: 'none',\n    userSelect: 'none',\n    opacity: 0.8,\n  },\n  background: {\n    fill: '#333',\n  },\n  text: {\n    pointerEvents: 'none',\n    userSelect: 'none',\n    fontSize: '10px',\n    fill: '#fff',\n  },\n}));\n\nconst RadarBubble = (props: Props): JSX.Element => {\n  const classes = useStyles(props);\n  const { visible, text } = props;\n\n  const textElem = useRef<SVGTextElement>(null);\n  const svgElem = useRef<SVGGElement>(null);\n  const rectElem = useRef<SVGRectElement>(null);\n  const pathElem = useRef<SVGPathElement>(null);\n\n  const updatePosition = () => {\n    if (textElem.current) {\n      const { x, y } = props;\n      const bbox = textElem.current.getBBox();\n      const marginX = 5;\n      const marginY = 4;\n\n      if (svgElem.current) {\n        svgElem.current.setAttribute(\n          'transform',\n          `translate(${x - bbox.width / 2}, ${y - bbox.height - marginY})`,\n        );\n      }\n\n      if (rectElem.current) {\n        rectElem.current.setAttribute('x', String(-marginX));\n        rectElem.current.setAttribute('y', String(-bbox.height));\n        rectElem.current.setAttribute(\n          'width',\n          String(bbox.width + 2 * marginX),\n        );\n        rectElem.current.setAttribute('height', String(bbox.height + marginY));\n      }\n\n      if (pathElem.current) {\n        pathElem.current.setAttribute(\n          'transform',\n          `translate(${bbox.width / 2 - marginX}, ${marginY - 1})`,\n        );\n      }\n    }\n  };\n\n  useLayoutEffect(() => {\n    updatePosition();\n  });\n\n  return (\n    <g\n      ref={svgElem}\n      x={0}\n      y={0}\n      className={visible ? classes.visibleBubble : classes.bubble}\n      data-testid=\"radar-bubble\"\n    >\n      <rect ref={rectElem} rx={4} ry={4} className={classes.background} />\n      <text ref={textElem} className={classes.text}>\n        {text}\n      </text>\n      <path\n        ref={pathElem}\n        d=\"M 0,0 10,0 5,8 z\"\n        className={classes.background}\n      />\n    </g>\n  );\n};\n\nexport default RadarBubble;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core';\n\nexport type Props = {\n  x: number;\n  y: number;\n};\n\nconst useStyles = makeStyles(theme => ({\n  text: {\n    pointerEvents: 'none',\n    userSelect: 'none',\n    fontSize: '10px',\n    fill: theme.palette.text.secondary,\n  },\n}));\n\nconst RadarFooter = (props: Props): JSX.Element => {\n  const { x, y } = props;\n  const classes = useStyles(props);\n\n  return (\n    <text\n      data-testid=\"radar-footer\"\n      transform={`translate(${x}, ${y})`}\n      className={classes.text}\n    >\n      {'▲ moved up\\u00a0\\u00a0\\u00a0\\u00a0\\u00a0▼ moved down'}\n    </text>\n  );\n};\n\nexport default RadarFooter;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { makeStyles, Theme } from '@material-ui/core';\nimport React from 'react';\nimport { WithLink } from '../../utils/components';\nimport type { Entry, Quadrant, Ring } from '../../utils/types';\nimport { RadarDescription } from '../RadarDescription';\n\ntype Segments = {\n  [k: number]: { [k: number]: Entry[] };\n};\n\nexport type Props = {\n  quadrants: Quadrant[];\n  rings: Ring[];\n  entries: Entry[];\n  onEntryMouseEnter?: (entry: Entry) => void;\n  onEntryMouseLeave?: (entry: Entry) => void;\n};\n\nconst useStyles = makeStyles<Theme>(theme => ({\n  quadrantLegend: {\n    overflowY: 'auto',\n    scrollbarWidth: 'thin',\n  },\n  quadrant: {\n    height: '100%',\n    width: '100%',\n    scrollbarWidth: 'thin',\n    pointerEvents: 'none',\n  },\n  quadrantHeading: {\n    pointerEvents: 'none',\n    userSelect: 'none',\n    marginTop: 0,\n    marginBottom: theme.spacing(2),\n    fontSize: '18px',\n  },\n  rings: {\n    columns: 3,\n  },\n  ring: {\n    breakInside: 'avoid-column',\n    pageBreakInside: 'avoid',\n    '-webkit-column-break-inside': 'avoid',\n    fontSize: '12px',\n    marginBottom: theme.spacing(2),\n  },\n  ringEmpty: {\n    color: theme.palette.text.secondary,\n  },\n  ringHeading: {\n    pointerEvents: 'none',\n    userSelect: 'none',\n    marginTop: 0,\n    marginBottom: theme.spacing(1),\n    fontSize: '12px',\n    fontWeight: 800,\n  },\n  ringList: {\n    listStylePosition: 'inside',\n    marginTop: 0,\n    paddingLeft: 0,\n    fontVariantNumeric: 'proportional-nums',\n    '-moz-font-feature-settings': 'pnum',\n    '-webkit-font-feature-settings': 'pnum',\n    'font-feature-settings': 'pnum',\n  },\n  entry: {\n    pointerEvents: 'visiblePainted',\n    userSelect: 'none',\n    fontSize: '11px',\n  },\n  entryLink: {\n    pointerEvents: 'visiblePainted',\n  },\n}));\n\nconst RadarLegend = (props: Props): JSX.Element => {\n  const classes = useStyles(props);\n\n  const getSegment = (\n    segmented: Segments,\n    quadrant: Quadrant,\n    ring: Ring,\n    ringOffset = 0,\n  ) => {\n    const quadrantIndex = quadrant.index;\n    const ringIndex = ring.index;\n    const segmentedData =\n      quadrantIndex === undefined ? {} : segmented[quadrantIndex] || {};\n    return ringIndex === undefined\n      ? []\n      : segmentedData[ringIndex + ringOffset] || [];\n  };\n\n  type RadarLegendRingProps = {\n    ring: Ring;\n    entries: Entry[];\n    onEntryMouseEnter?: Props['onEntryMouseEnter'];\n    onEntryMouseLeave?: Props['onEntryMouseEnter'];\n  };\n\n  type RadarLegendLinkProps = {\n    url?: string;\n    description?: string;\n    title?: string;\n  };\n\n  const RadarLegendLink = ({\n    url,\n    description,\n    title,\n  }: RadarLegendLinkProps) => {\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n\n    const handleClose = () => {\n      setOpen(false);\n    };\n\n    const toggle = () => {\n      setOpen(!open);\n    };\n\n    if (description) {\n      return (\n        <>\n          <span\n            className={classes.entryLink}\n            onClick={handleClickOpen}\n            role=\"button\"\n            tabIndex={0}\n            onKeyPress={toggle}\n          >\n            <span className={classes.entry}>{title}</span>\n          </span>\n          {open && (\n            <RadarDescription\n              open={open}\n              onClose={handleClose}\n              title={title ? title : 'no title'}\n              url={url}\n              description={description}\n            />\n          )}\n        </>\n      );\n    }\n    return (\n      <WithLink url={url} className={classes.entryLink}>\n        <span className={classes.entry}>{title}</span>\n      </WithLink>\n    );\n  };\n\n  const RadarLegendRing = ({\n    ring,\n    entries,\n    onEntryMouseEnter,\n    onEntryMouseLeave,\n  }: RadarLegendRingProps) => {\n    return (\n      <div data-testid=\"radar-ring\" key={ring.id} className={classes.ring}>\n        <h3 className={classes.ringHeading}>{ring.name}</h3>\n        {entries.length === 0 ? (\n          <p className={classes.ringEmpty}>(empty)</p>\n        ) : (\n          <ol className={classes.ringList}>\n            {entries.map(entry => (\n              <li\n                key={entry.id}\n                value={(entry.index || 0) + 1}\n                onMouseEnter={\n                  onEntryMouseEnter && (() => onEntryMouseEnter(entry))\n                }\n                onMouseLeave={\n                  onEntryMouseLeave && (() => onEntryMouseLeave(entry))\n                }\n              >\n                <RadarLegendLink\n                  url={entry.url}\n                  title={entry.title}\n                  description={entry.description}\n                />\n              </li>\n            ))}\n          </ol>\n        )}\n      </div>\n    );\n  };\n\n  type RadarLegendQuadrantProps = {\n    segments: Segments;\n    quadrant: Quadrant;\n    rings: Ring[];\n    onEntryMouseEnter: Props['onEntryMouseEnter'];\n    onEntryMouseLeave: Props['onEntryMouseLeave'];\n  };\n\n  const RadarLegendQuadrant = ({\n    segments,\n    quadrant,\n    rings,\n    onEntryMouseEnter,\n    onEntryMouseLeave,\n  }: RadarLegendQuadrantProps) => {\n    return (\n      <foreignObject\n        key={quadrant.id}\n        x={quadrant.legendX}\n        y={quadrant.legendY}\n        width={quadrant.legendWidth}\n        height={quadrant.legendHeight}\n        className={classes.quadrantLegend}\n        data-testid=\"radar-quadrant\"\n      >\n        <div className={classes.quadrant}>\n          <h2 className={classes.quadrantHeading}>{quadrant.name}</h2>\n          <div className={classes.rings}>\n            {rings.map(ring => (\n              <RadarLegendRing\n                key={ring.id}\n                ring={ring}\n                entries={getSegment(segments, quadrant, ring)}\n                onEntryMouseEnter={onEntryMouseEnter}\n                onEntryMouseLeave={onEntryMouseLeave}\n              />\n            ))}\n          </div>\n        </div>\n      </foreignObject>\n    );\n  };\n\n  const setupSegments = (entries: Entry[]) => {\n    const segments: Segments = {};\n\n    for (const entry of entries) {\n      const quadrantIndex = entry.quadrant.index;\n      const ringIndex = entry.ring.index;\n      let quadrantData: { [k: number]: Entry[] } = {};\n      if (quadrantIndex !== undefined) {\n        if (segments[quadrantIndex] === undefined) {\n          segments[quadrantIndex] = {};\n        }\n\n        quadrantData = segments[quadrantIndex];\n      }\n\n      let ringData = [];\n      if (ringIndex !== undefined) {\n        if (quadrantData[ringIndex] === undefined) {\n          quadrantData[ringIndex] = [];\n        }\n\n        ringData = quadrantData[ringIndex];\n      }\n\n      ringData.push(entry);\n    }\n\n    return segments;\n  };\n\n  const { quadrants, rings, entries, onEntryMouseEnter, onEntryMouseLeave } =\n    props;\n\n  const segments: Segments = setupSegments(entries);\n\n  return (\n    <g data-testid=\"radar-legend\">\n      {quadrants.map(quadrant => (\n        <RadarLegendQuadrant\n          key={quadrant.id}\n          segments={segments}\n          quadrant={quadrant}\n          rings={rings}\n          onEntryMouseEnter={onEntryMouseEnter}\n          onEntryMouseLeave={onEntryMouseLeave}\n        />\n      ))}\n    </g>\n  );\n};\n\nexport default RadarLegend;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport type { Quadrant, Ring, Entry } from '../../utils/types';\n\nimport RadarGrid from '../RadarGrid';\nimport RadarEntry from '../RadarEntry';\nimport RadarBubble from '../RadarBubble';\nimport RadarFooter from '../RadarFooter';\nimport RadarLegend from '../RadarLegend';\n\nexport type Props = {\n  width: number;\n  height: number;\n  radius: number;\n  rings: Ring[];\n  quadrants: Quadrant[];\n  entries: Entry[];\n  activeEntry?: Entry;\n  onEntryMouseEnter?: (entry: Entry) => void;\n  onEntryMouseLeave?: (entry: Entry) => void;\n};\n\n// A component that draws the radar circle.\nconst RadarPlot = (props: Props): JSX.Element => {\n  const {\n    width,\n    height,\n    radius,\n    quadrants,\n    rings,\n    entries,\n    activeEntry,\n    onEntryMouseEnter,\n    onEntryMouseLeave,\n  } = props;\n\n  return (\n    <g data-testid=\"radar-plot\">\n      <RadarLegend\n        quadrants={quadrants}\n        rings={rings}\n        entries={entries}\n        onEntryMouseEnter={\n          onEntryMouseEnter && (entry => onEntryMouseEnter(entry))\n        }\n        onEntryMouseLeave={\n          onEntryMouseLeave && (entry => onEntryMouseLeave(entry))\n        }\n      />\n      <g transform={`translate(${width / 2}, ${height / 2})`}>\n        <RadarGrid radius={radius} rings={rings} />\n        <RadarFooter x={-0.5 * width} y={0.5 * height} />\n        {entries.map(entry => (\n          <RadarEntry\n            key={entry.id}\n            x={entry.x || 0}\n            y={entry.y || 0}\n            color={entry.color || ''}\n            value={(entry?.index || 0) + 1}\n            url={entry.url}\n            description={entry.description}\n            moved={entry.moved}\n            title={entry.title}\n            onMouseEnter={onEntryMouseEnter && (() => onEntryMouseEnter(entry))}\n            onMouseLeave={onEntryMouseLeave && (() => onEntryMouseLeave(entry))}\n          />\n        ))}\n        <RadarBubble\n          visible={!!activeEntry}\n          text={activeEntry?.title || ''}\n          x={activeEntry?.x || 0}\n          y={activeEntry?.y || 0}\n        />\n      </g>\n    </g>\n  );\n};\n\nexport default RadarPlot;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default class Segment {\n  constructor(quadrant, ring, radius, nextSeed) {\n    this.nextSeed = nextSeed;\n    this.polarMin = {\n      t: quadrant.radialMin,\n      r: ring.innerRadius,\n    };\n    this.polarMax = {\n      t: quadrant.radialMax,\n      r: ring.outerRadius,\n    };\n    this.cartesianMin = {\n      x: 15 * quadrant.offsetX,\n      y: 15 * quadrant.offsetY,\n    };\n    this.cartesianMax = {\n      x: radius * quadrant.offsetX,\n      y: radius * quadrant.offsetY,\n    };\n  }\n\n  clipx(d) {\n    const c = boundedBox(d, this.cartesianMin, this.cartesianMax);\n    const p = boundedRing(polar(c), this.polarMin.r + 15, this.polarMax.r - 15);\n    d.x = cartesian(p).x;\n    return d.x;\n  }\n\n  clipy(d) {\n    const c = boundedBox(d, this.cartesianMin, this.cartesianMax);\n    const p = boundedRing(polar(c), this.polarMin.r + 15, this.polarMax.r - 15);\n    d.y = cartesian(p).y;\n    return d.y;\n  }\n\n  random() {\n    return cartesian({\n      t: this._randomBetween(this.polarMin.t, this.polarMax.t),\n      r: this._normalBetween(this.polarMin.r, this.polarMax.r),\n    });\n  }\n\n  // custom random number generator, to make random sequence reproducible\n  // source: https://stackoverflow.com/questions/521295\n  _random() {\n    const x = Math.sin(this.nextSeed()) * 10000;\n    return x - Math.floor(x);\n  }\n\n  _randomBetween(min, max) {\n    return min + this._random() * (max - min);\n  }\n\n  _normalBetween(min, max) {\n    return min + (this._random() + this._random()) * 0.5 * (max - min);\n  }\n}\n\nfunction polar({ x, y }) {\n  return {\n    t: Math.atan2(y, x),\n    r: Math.sqrt(x * x + y * y),\n  };\n}\n\nfunction cartesian({ r, t }) {\n  return {\n    x: r * Math.cos(t),\n    y: r * Math.sin(t),\n  };\n}\n\nfunction boundedInterval(value, min, max) {\n  const low = Math.min(min, max);\n  const high = Math.max(min, max);\n  return Math.min(Math.max(value, low), high);\n}\n\nfunction boundedRing(polarValue, rMin, rMax) {\n  return {\n    t: polarValue.t,\n    r: boundedInterval(polarValue.r, rMin, rMax),\n  };\n}\n\nfunction boundedBox(point, min, max) {\n  return {\n    x: boundedInterval(point.x, min.x, max.x),\n    y: boundedInterval(point.y, min.y, max.y),\n  };\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport color from 'color';\nimport { forceCollide, forceSimulation } from 'd3-force';\nimport Segment from '../../utils/segment';\nimport type { Ring, Quadrant, Entry } from '../../utils/types';\n\nexport const adjustQuadrants = (\n  quadrants: Quadrant[],\n  radius: number,\n  width: number,\n  height: number,\n) => {\n  /*\n    0           1                             2           3 ← x stops index\n    │           │                             │           │ ↓ y stops index\n    ┼───────────┼─────────────────────────────┼───────────┼─0\n    │           │        . -- ~~~ -- .        │           │\n    │           │    .-~               ~-.    │           │\n    │    <Q3>   │   /                     \\   │   <Q2>    │\n    │           │  /                       \\  │           │\n    ┼───────────┼─────────────────────────────┼───────────┼─1\n    ┼───────────┼─────────────────────────────┼───────────┼─2\n    │           │ |                         | │           │\n    │           │  \\                       /  │           │\n    │    <Q1>   │   \\                     /   │   <Q0>    │\n    │           │    `-.               .-'    │           │\n    │           │        ~- . ___ . -~        │           │\n    ┼───────────┼─────────────────────────────┼───────────┼─3\n     */\n\n  const margin = 16;\n  const xStops = [\n    margin,\n    width / 2 - radius - margin,\n    width / 2 + radius + margin,\n    width - margin,\n  ];\n  const yStops = [margin, height / 2 - margin, height / 2, height - margin];\n\n  // The quadrant parameters correspond to Q[0..3] above.  They are in this order because of the\n  // original Zalando code; maybe we should refactor them to be in reverse order?\n  const legendParams = [\n    {\n      x: xStops[2],\n      y: yStops[2],\n      width: xStops[3] - xStops[2],\n      height: yStops[3] - yStops[2],\n    },\n    {\n      x: xStops[0],\n      y: yStops[2],\n      width: xStops[1] - xStops[0],\n      height: yStops[3] - yStops[2],\n    },\n    {\n      x: xStops[0],\n      y: yStops[0],\n      width: xStops[1] - xStops[0],\n      height: yStops[1] - yStops[0],\n    },\n    {\n      x: xStops[2],\n      y: yStops[0],\n      width: xStops[3] - xStops[2],\n      height: yStops[1] - yStops[0],\n    },\n  ];\n\n  quadrants.forEach((quadrant, index) => {\n    const legendParam = legendParams[index % 4];\n\n    quadrant.index = index;\n    quadrant.radialMin = (index * Math.PI) / 2;\n    quadrant.radialMax = ((index + 1) * Math.PI) / 2;\n    quadrant.offsetX = index % 4 === 0 || index % 4 === 3 ? 1 : -1;\n    quadrant.offsetY = index % 4 === 0 || index % 4 === 1 ? 1 : -1;\n    quadrant.legendX = legendParam.x;\n    quadrant.legendY = legendParam.y;\n    quadrant.legendWidth = legendParam.width;\n    quadrant.legendHeight = legendParam.height;\n  });\n};\n\nexport const adjustEntries = (\n  entries: Entry[],\n  quadrants: Quadrant[],\n  rings: Ring[],\n  radius: number,\n  activeEntry?: Entry,\n) => {\n  let seed = 42;\n  entries.forEach((entry, index) => {\n    const quadrant = quadrants.find(q => {\n      const match =\n        typeof entry.quadrant === 'object' ? entry.quadrant.id : entry.quadrant;\n      return q.id === match;\n    });\n    const ring = rings.find(r => {\n      const match = typeof entry.ring === 'object' ? entry.ring.id : entry.ring;\n      return r.id === match;\n    });\n\n    if (!quadrant) {\n      throw new Error(\n        `Unknown quadrant ${entry.quadrant} for entry ${entry.id}!`,\n      );\n    }\n    if (!ring) {\n      throw new Error(`Unknown ring ${entry.ring} for entry ${entry.id}!`);\n    }\n\n    entry.index = index;\n    entry.quadrant = quadrant;\n    entry.ring = ring;\n    entry.segment = new Segment(quadrant, ring, radius, () => seed++);\n    const point = entry.segment.random();\n    entry.x = point.x;\n    entry.y = point.y;\n    entry.active = activeEntry ? entry.id === activeEntry.id : false;\n    entry.color = entry.active\n      ? entry.ring.color\n      : color(entry.ring.color).desaturate(0.5).lighten(0.1).string();\n  });\n\n  const simulation = forceSimulation()\n    .nodes(entries)\n    .velocityDecay(0.19)\n    .force('collision', forceCollide().radius(12).strength(0.85))\n    .stop();\n\n  for (\n    let i = 0,\n      n = Math.ceil(\n        Math.log(simulation.alphaMin()) / Math.log(1 - simulation.alphaDecay()),\n      );\n    i < n;\n    ++i\n  ) {\n    simulation.tick();\n\n    for (const entry of entries) {\n      if (entry.segment) {\n        entry.x = entry.segment.clipx(entry);\n        entry.y = entry.segment.clipy(entry);\n      }\n    }\n  }\n};\n\nexport const adjustRings = (rings: Ring[], radius: number) => {\n  rings.forEach((ring, index) => {\n    ring.index = index;\n    ring.outerRadius = ((index + 2) / (rings.length + 1)) * radius;\n    ring.innerRadius =\n      ((index === 0 ? 0 : index + 1) / (rings.length + 1)) * radius;\n  });\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState, useRef } from 'react';\nimport RadarPlot from '../RadarPlot';\nimport type { Ring, Quadrant, Entry } from '../../utils/types';\nimport { adjustQuadrants, adjustRings, adjustEntries } from './utils';\n\nexport type Props = {\n  width: number;\n  height: number;\n  quadrants: Quadrant[];\n  rings: Ring[];\n  entries: Entry[];\n  svgProps?: object;\n};\n\nconst Radar = (props: Props): JSX.Element => {\n  const { width, height, quadrants, rings, entries } = props;\n  const radius = Math.min(width, height) / 2;\n\n  const [activeEntry, setActiveEntry] = useState<Entry>();\n  const node = useRef<SVGSVGElement>(null);\n\n  // TODO(dflemstr): most of this can be heavily memoized if performance becomes a problem\n  adjustQuadrants(quadrants, radius, width, height);\n  adjustRings(rings, radius);\n  adjustEntries(entries, quadrants, rings, radius, activeEntry);\n\n  return (\n    <svg ref={node} width={width} height={height} {...props.svgProps}>\n      <RadarPlot\n        width={width}\n        height={height}\n        radius={radius}\n        entries={entries}\n        quadrants={quadrants}\n        rings={rings}\n        activeEntry={activeEntry}\n        onEntryMouseEnter={entry => setActiveEntry(entry)}\n        onEntryMouseLeave={() => setActiveEntry(undefined)}\n      />\n    </svg>\n  );\n};\n\nexport default Radar;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Progress } from '@backstage/core-components';\nimport { errorApiRef, useApi } from '@backstage/core-plugin-api';\nimport React, { useEffect } from 'react';\nimport useAsync from 'react-use/lib/useAsync';\nimport { RadarEntry, techRadarApiRef, TechRadarLoaderResponse } from '../api';\nimport Radar from '../components/Radar';\nimport { Entry } from '../utils/types';\n\nconst useTechRadarLoader = (id: string | undefined) => {\n  const errorApi = useApi(errorApiRef);\n  const techRadarApi = useApi(techRadarApiRef);\n\n  const { error, value, loading } = useAsync(\n    async () => techRadarApi.load(id),\n    [techRadarApi],\n  );\n\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n\n  return { loading, value, error };\n};\n\nfunction matchFilter(filter?: string): (entry: RadarEntry) => boolean {\n  const terms = filter\n    ?.toLocaleLowerCase('en-US')\n    .split(/\\s/)\n    .map(e => e.trim())\n    .filter(Boolean);\n\n  if (!terms?.length) {\n    return () => true;\n  }\n\n  return entry => {\n    const text = `${entry.title} ${\n      entry.timeline[0]?.description || ''\n    }`.toLocaleLowerCase('en-US');\n    return terms.every(term => text.includes(term));\n  };\n}\n\n/**\n * Properties of {@link TechRadarComponent}\n */\nexport interface TechRadarComponentProps {\n  /**\n   * ID of this Tech Radar\n   *\n   * @remarks\n   *\n   * Used when there are multiple Tech Radars and passed to {@link TechRadarApi.load}\n   */\n  id?: string;\n  /**\n   * Width of Tech Radar\n   */\n  width: number;\n  /**\n   * Height of Tech Radar\n   */\n  height: number;\n  /**\n   * Custom React props to the `<svg>` element created for Tech Radar\n   */\n  svgProps?: object;\n  /**\n   * Text to filter {@link RadarEntry} inside Tech Radar\n   */\n  searchText?: string;\n}\n\n/**\n * Main React component of Tech Radar\n *\n * @remarks\n *\n * For advanced use cases. Typically, you want to use {@link TechRadarPage}\n */\nexport function RadarComponent(props: TechRadarComponentProps) {\n  const { loading, error, value: data } = useTechRadarLoader(props.id);\n\n  const mapToEntries = (\n    loaderResponse: TechRadarLoaderResponse,\n  ): Array<Entry> => {\n    return loaderResponse.entries\n      .filter(matchFilter(props.searchText))\n      .map(entry => ({\n        id: entry.key,\n        quadrant: loaderResponse.quadrants.find(q => q.id === entry.quadrant)!,\n        title: entry.title,\n        ring: loaderResponse.rings.find(\n          r => r.id === entry.timeline[0].ringId,\n        )!,\n        timeline: entry.timeline.map(e => {\n          return {\n            date: e.date,\n            ring: loaderResponse.rings.find(a => a.id === e.ringId)!,\n            description: e.description,\n            moved: e.moved,\n          };\n        }),\n        moved: entry.timeline[0].moved,\n        description: entry.description || entry.timeline[0].description,\n        url: entry.url,\n      }));\n  };\n\n  return (\n    <>\n      {loading && <Progress />}\n      {!loading && !error && data && (\n        <Radar\n          {...props}\n          rings={data.rings}\n          quadrants={data.quadrants}\n          entries={mapToEntries(data)}\n        />\n      )}\n    </>\n  );\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Content,\n  ContentHeader,\n  Header,\n  Page,\n  SupportButton,\n} from '@backstage/core-components';\nimport { Grid, Input, makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { RadarComponent, TechRadarComponentProps } from './RadarComponent';\n\nconst useStyles = makeStyles(() => ({\n  overflowXScroll: {\n    overflowX: 'scroll',\n  },\n}));\n\n/**\n * Properties for {@link TechRadarPage}\n */\nexport interface TechRadarPageProps extends TechRadarComponentProps {\n  /**\n   * Title\n   */\n  title?: string;\n  /**\n   * Subtitle\n   */\n  subtitle?: string;\n  /**\n   * Page Title\n   */\n  pageTitle?: string;\n}\n\n/**\n * Main Page of Tech Radar\n */\nexport function RadarPage(props: TechRadarPageProps) {\n  const {\n    title = 'Tech Radar',\n    subtitle = 'Pick the recommended technologies for your projects',\n    pageTitle = 'Company Radar',\n    ...componentProps\n  } = props;\n  const classes = useStyles();\n  const [searchText, setSearchText] = React.useState('');\n\n  return (\n    <Page themeId=\"tool\">\n      <Header title={title} subtitle={subtitle} />\n      <Content className={classes.overflowXScroll}>\n        <ContentHeader title={pageTitle}>\n          <Input\n            id=\"tech-radar-filter\"\n            type=\"search\"\n            placeholder=\"Filter\"\n            onChange={e => setSearchText(e.target.value)}\n          />\n          <SupportButton>\n            This is used for visualizing the official guidelines of different\n            areas of software development such as languages, frameworks,\n            infrastructure and processes.\n          </SupportButton>\n        </ContentHeader>\n        <Grid container spacing={3} direction=\"row\">\n          <Grid item xs={12} sm={6} md={4}>\n            <RadarComponent searchText={searchText} {...componentProps} />\n          </Grid>\n        </Grid>\n      </Content>\n    </Page>\n  );\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  RadarRing,\n  RadarQuadrant,\n  RadarEntry,\n  TechRadarLoaderResponse,\n  TechRadarApi,\n} from './api';\n\nconst rings = new Array<RadarRing>();\nrings.push({ id: 'use', name: 'USE', color: '#93c47d' });\nrings.push({ id: 'trial', name: 'TRIAL', color: '#93d2c2' });\nrings.push({ id: 'assess', name: 'ASSESS', color: '#fbdb84' });\nrings.push({ id: 'hold', name: 'HOLD', color: '#efafa9' });\n\nconst quadrants = new Array<RadarQuadrant>();\nquadrants.push({ id: 'infrastructure', name: 'Infrastructure' });\nquadrants.push({ id: 'frameworks', name: 'Frameworks' });\nquadrants.push({ id: 'languages', name: 'Languages' });\nquadrants.push({ id: 'process', name: 'Process' });\n\nconst entries = new Array<RadarEntry>();\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: 'use',\n      date: new Date('2020-08-06'),\n      description:\n        'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua',\n    },\n  ],\n  url: '#',\n  key: 'javascript',\n  id: 'javascript',\n  title: 'JavaScript',\n  quadrant: 'languages',\n  description:\n    'Excepteur **sint** occaecat *cupidatat* non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\\n\\n```ts\\nconst x = \"3\";\\n```\\n',\n});\nentries.push({\n  timeline: [\n    {\n      moved: -1,\n      ringId: 'use',\n      date: new Date('2020-08-06'),\n      description:\n        'Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat',\n    },\n  ],\n  url: '#',\n  key: 'typescript',\n  id: 'typescript',\n  title: 'TypeScript',\n  quadrant: 'languages',\n  description:\n    'Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat',\n});\nentries.push({\n  timeline: [\n    {\n      moved: 1,\n      ringId: 'use',\n      date: new Date('2020-08-06'),\n      description:\n        'Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur',\n    },\n  ],\n  url: 'https://webpack.js.org/',\n  key: 'webpack',\n  id: 'webpack',\n  title: 'Webpack',\n  quadrant: 'frameworks',\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: 'use',\n      date: new Date('2020-08-06'),\n    },\n  ],\n  url: 'https://reactjs.org/',\n  key: 'react',\n  id: 'react',\n  title: 'React',\n  quadrant: 'frameworks',\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: 'use',\n      date: new Date('2020-08-06'),\n    },\n  ],\n  url: '#',\n  key: 'code-reviews',\n  id: 'code-reviews',\n  title: 'Code Reviews',\n  quadrant: 'process',\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: 'assess',\n      date: new Date('2020-08-06'),\n    },\n  ],\n  url: '#',\n  key: 'mob-programming',\n  id: 'mob-programming',\n  title: 'Mob Programming',\n  quadrant: 'process',\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: 'use',\n      date: new Date('2020-08-06'),\n    },\n  ],\n  url: '#',\n  key: 'docs-like-code',\n  id: 'docs-like-code',\n  title: 'Docs-like-code',\n  quadrant: 'process',\n});\nentries.push({\n  timeline: [\n    {\n      ringId: 'hold',\n      date: new Date('2020-08-06'),\n    },\n  ],\n  url: '#',\n  key: 'force-push',\n  id: 'force-push',\n  title: 'Force push to master',\n  quadrant: 'process',\n});\nentries.push({\n  timeline: [\n    {\n      ringId: 'use',\n      date: new Date('2020-08-06'),\n      description: 'long description',\n    },\n  ],\n  url: 'https://github.com',\n  key: 'github-actions',\n  id: 'github-actions',\n  title: 'GitHub Actions',\n  quadrant: 'infrastructure',\n});\n\nexport const mock: TechRadarLoaderResponse = {\n  entries,\n  quadrants,\n  rings,\n};\n\nexport class SampleTechRadarApi implements TechRadarApi {\n  async load() {\n    return mock;\n  }\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { techRadarApiRef } from './api';\n\nimport { SampleTechRadarApi } from './sample';\nimport {\n  createPlugin,\n  createRouteRef,\n  createRoutableExtension,\n  createApiFactory,\n} from '@backstage/core-plugin-api';\n\nconst rootRouteRef = createRouteRef({\n  id: 'tech-radar',\n});\n\n/**\n * Tech Radar plugin instance\n */\nexport const techRadarPlugin = createPlugin({\n  id: 'tech-radar',\n  routes: {\n    root: rootRouteRef,\n  },\n  apis: [createApiFactory(techRadarApiRef, new SampleTechRadarApi())],\n});\n\n/**\n * Main Tech Radar Page\n *\n * @remarks\n *\n * Uses {@link TechRadarPageProps} as props\n */\nexport const TechRadarPage = techRadarPlugin.provide(\n  createRoutableExtension({\n    name: 'TechRadarPage',\n    component: () => import('./components/RadarPage').then(m => m.RadarPage),\n    mountPoint: rootRouteRef,\n  }),\n);\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A Backstage plugin that lets you display a Tech Radar for your organization\n *\n * @packageDocumentation\n */\n\nimport { RadarPage } from './components';\n\nexport {\n  techRadarPlugin,\n  techRadarPlugin as plugin,\n  TechRadarPage,\n} from './plugin';\n\nexport * from './components';\n\n/**\n * @deprecated Use plugin extensions instead\n */\nexport const Router = RadarPage;\n\n/**\n * The TypeScript API for configuring Tech Radar.\n */\nexport * from './api';\n"],"names":["useStyles"],"mappings":"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"}